---
class: flex flex-col items-center justify-center h-full
---

## ...本当に？🤔

---

## 境界線の問題

サーバーサイドで実行される領域と、ブラウザで実行される領域

```astro {1-5|9-14}
---
// 🌏 サーバー
const serverData = "I am on the Server";
console.log(serverData);
---

<script>
  // 🏝️ クライアント
  console.log("Client script running");

  // 🚫
  console.log(serverData);
</script>
```

---

## 型システムの制約

.astroファイルの独自構文とTypeScriptの型システムのあいだに...

```js
// Reactでは可能だが
type Props<T> = {
  items: T;
  renderItem: (item: T) => void;
}
```

---

## ツールチェーンの未成熟さ

- Formatter
- TypeScriptエコシステム
- Compiler
- VS Codeの拡張機能

---

## nanostores

- コンポーネント外部にストアを定義し、それをコンポーネントがSubscribeするという「イベント駆動的」かつ「分散型」のモデルである
- store定義の手間
- ボイラープレートの増加

---

## 前提
プロトタイピングによる検証のとき、

-「状態共有の複雑さ」と「TypeScriptとIDEの挙動」を確認しようね！
- プロジェクト初期段階でNanostoresの使用ルールや、永続化・SSR同期の戦略を明確に定めておく必要

---

## つまり、静的ジェネレーターとして使えばいいってこと？

---
